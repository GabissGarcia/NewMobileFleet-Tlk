{"version":3,"sources":["../../src/pages/mapa/mapa.module.ts","../../src/pipes/distancia.pipe.ts","../../src/pages/mapa/mapa.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { DatePipe } from '@angular/common';\nimport { VelocidadePipe } from './../../pipes/velocidade.pipe';\nimport { DistanciaPipe } from './../../pipes/distancia.pipe';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { MapaPage } from './mapa';\n\n@NgModule({\n  declarations: [\n    MapaPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MapaPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    MapaPage\n  ],\n  providers: [\n    DistanciaPipe, VelocidadePipe, DatePipe\n  ]\n})\nexport class MapaPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mapa/mapa.module.ts","import { TranslateService } from '@ngx-translate/core';\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'distancia'})\nexport class DistanciaPipe implements PipeTransform {\n  constructor(private translate: TranslateService) {\n\n  }\n  \n  transform(value: number): any {\n    const browserLang = this.translate.getBrowserLang();\n    if (value == 0 || value == undefined){\n      return ''\n    }\n    if (browserLang) {\n      if (browserLang === 'pt' || browserLang === 'pt-br') {\n        return value + ' Km de ';\n      }\n    } \n\n    return (value * 0.6213711922).toFixed(2) + ' miles from ';\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/distancia.pipe.ts","import { DataStore } from './../../models/data-store';\nimport { Rastro } from './../../models/rastro';\nimport { Marcador } from \"./../../models/marcador\";\nimport { LoginPage } from \"./../index\";\nimport { Component, ElementRef, ViewChild, OnInit } from \"@angular/core\";\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  Platform,\n  LoadingController\n} from \"ionic-angular\";\n\nimport { Settings, User } from \"../../providers\";\nimport { MyApp } from \"../../app/app.component\";\nimport { VeiculoService } from \"../../providers/api/veiculo.service\";\nimport {\n  GoogleMaps,\n  GoogleMap,\n  LatLng,\n  GoogleMapsEvent,\n  Marker,\n  MarkerOptions,\n  MarkerIcon,\n  GoogleMapsMapTypeId,\n  MapType,\n  GoogleMapOptions,\n  HtmlInfoWindow,\n  StreetViewPanorama\n} from \"@ionic-native/google-maps\";\nimport { VelocidadePipe } from '../../pipes/velocidade.pipe';\nimport { DatePipe } from '@angular/common';\nimport { DistanciaPipe } from '../../pipes/distancia.pipe';\n/**\n * The Settings page is a simple form that syncs with a Settings provider\n * to enable the user to customize settings for the app.\n *\n */\n@IonicPage()\n@Component({\n  selector: \"page-mapa\",\n  templateUrl: \"mapa.html\"\n})\nexport class MapaPage implements OnInit {\n  // Our local settings object\n  @ViewChild(\"map\") mapElement: ElementRef;\n\n  waitString: string;\n  speedString: string;\n  locationString: string;\n  directionString: string;\n  dateTimeString: string;\n  placaString: string;\n\n  tipoMapa: MapType = <MapType>GoogleMapsMapTypeId.NORMAL;\n  constructor(\n    public navCtrl: NavController,\n    private platform: Platform,\n    public settings: Settings,\n    public formBuilder: FormBuilder,\n    public navParams: NavParams,\n    public translate: TranslateService,\n    public user: User,\n    public veiculoService: VeiculoService,\n    public app: MyApp,\n    private distanciaPipe: DistanciaPipe,\n    private datePipe: DatePipe,\n    private velocidadePipe: VelocidadePipe,\n    public loadingCtrl: LoadingController,\n    public translateService: TranslateService\n  ) {\n    this.translateService.get([\"WAIT\",\"SPEED\",\"LOCATION\",\"PLATE\",\"DIRECTION\",\"DATETIME\"]).subscribe(values => {\n      this.waitString = values[\"WAIT\"];\n      this.speedString = values[\"SPEED\"];\n      this.locationString = values[\"LOCATION\"];\n      this.placaString = values[\"PLATE\"];\n      this.directionString = values[\"DIRECTION\"];\n      this.dateTimeString = values[\"DATETIME\"];\n    });\n  }\n\n  ngOnInit() {\n    this.platform.ready().then(() => {\n      let element = this.mapElement.nativeElement;\n      this.veiculoService.mapa = GoogleMaps.create(element);\n\n      this.veiculoService.mapa.one(GoogleMapsEvent.MAP_READY).then(() => {\n        let loading = this.loadingCtrl.create({\n          content: this.waitString\n        });\n        loading.present();\n\n        let options;\n        if (this.veiculoService.getSelectVeiculo != null){\n          options = {\n            target: {\n              lat: this.veiculoService.getSelectVeiculo.latitude,\n              lng: this.veiculoService.getSelectVeiculo.longitude\n            },\n            zoom: 14,\n            duration: 1000\n          };\n        }else {\n          options = {\n            target: { lat: -15.795352, lng: -47.881980 },\n            zoom: 4\n          };\n        }\n\n\n        this.veiculoService.mapa.moveCamera(options);\n\n\n        this.veiculoService.marcadores.forEach(\n          (marca: Marcador, key: number, marcadores) => {\n            let path = 'assets/icon/car.png';\n\n            if (marca.veiculo.iconType == 2){\n              path = \"assets/icon/custom/bus.png\";\n            }else if (marca.veiculo.iconType == 3){\n              path = \"assets/icon/custom/forkfitft.png\";\n            }else if (marca.veiculo.iconType == 4){\n              path = \"assets/icon/custom/ship.png\";\n            }else if (marca.veiculo.iconType == 5){\n              path = \"assets/icon/custom/container.png\";\n            }else if (marca.veiculo.iconType == 6){\n              path = \"assets/icon/custom/moto.png\";\n            }else {\n              if (marca.veiculo.ignicao === null){\n                path = \"assets/icon/icons8-inspecao-16.png\";\n              }else if (marca.veiculo.ignicao == true) {\n                path = \"assets/icon/car-ign.png\";\n              }else if(marca.veiculo.ignicao == false){\n                path = \"assets/icon/car.png\";\n              }\n            }\n            let iconVeiculo: MarkerIcon = {\n              url: path,\n              size: {\n                width: 30,\n                height: 30\n              }\n            };\n            let direction = 0;\n            if(marca.veiculo.ignicao === null){\n              iconVeiculo = {\n                url: \"assets/icon/icons8-inspecao-16.png\"\n              };\n            }else {\n              direction = ((marca.veiculo.direcao) * 45);\n            }\n\n\n\n            let metaMarker: MarkerOptions = {\n              position: {\n                lat: marca.veiculo.latitude,\n                lng: marca.veiculo.longitude\n              },\n              flat: true,\n              rotation: direction,\n              icon: iconVeiculo\n            };\n\n            this.veiculoService.mapa\n              .addMarker(metaMarker)\n              .then(mark => {\n                marca.marker = mark;\n                mark.on(GoogleMapsEvent.MARKER_CLICK).subscribe(() => {\n                  let htmlInfoWindow = this.getWindowsInfo(marca.veiculo);\n                  if (marca.veiculo.ignicao === null){\n                    htmlInfoWindow = this.getWindowsInfoInpe(marca.veiculo);\n                  }\n                  htmlInfoWindow.open(mark);\n                });\n              })\n              .catch(error => {\n                console.log(error);\n              });\n          }\n        );\n        loading.dismiss();\n      });\n    });\n  }\n\n  popularMapaCarro() {\n  }\n\n  logout() {\n\n    this.user.logout();\n    this.app.getRootNav().setRoot(LoginPage);\n\n  }\n  changeLayer(){\n\n    if (this.tipoMapa == GoogleMapsMapTypeId.NORMAL){\n      this.tipoMapa = <MapType>GoogleMapsMapTypeId.HYBRID;\n    }else if(this.tipoMapa == GoogleMapsMapTypeId.HYBRID){\n      this.tipoMapa = <MapType>GoogleMapsMapTypeId.SATELLITE;\n    }else {\n      this.tipoMapa = <MapType>GoogleMapsMapTypeId.NORMAL;\n    }\n\n\n    this.veiculoService.mapa.setMapTypeId(this.tipoMapa);\n  }\n\n\n  getWindowsInfo(veiculo:DataStore): HtmlInfoWindow {\n    let dir = '';\n    if (this.translateService.getBrowserLang() === 'pt' ||\n      this.translateService.getBrowserLang() === 'pt-br') {\n      switch (veiculo.direcao) {\n        case 0: dir = 'Norte'; break;\n        case 1: dir = 'Nordeste'; break;\n        case 2: dir = 'Leste'; break;\n        case 3: dir = 'Sudeste'; break;\n        case 4: dir = 'Sul'; break;\n        case 5: dir = 'Sudoeste'; break;\n        case 6: dir = 'Oeste'; break;\n        case 7: dir = 'Noroeste'; break;\n      }\n\n    } else {\n      switch (veiculo.direcao) {\n        case 0: dir = 'North'; break;\n        case 1: dir = 'Northeast'; break;\n        case 2: dir = 'East'; break;\n        case 3: dir = 'Southeast'; break;\n        case 4: dir = 'South'; break;\n        case 5: dir = 'South-west'; break;\n        case 6: dir = 'West'; break;\n        case 7: dir = 'Northwest'; break;\n      }\n    }\n    const velocidade = this.velocidadePipe.transform(veiculo.velocidade);\n    const location = veiculo.posicao;\n    const dh = this.datePipe.transform(veiculo.dh, 'dd/MM/yyyy HH:mm:ss');\n    let htmlInfoWindow = new HtmlInfoWindow();\n    let frame: HTMLElement = document.createElement('div');\n    frame.innerHTML = [\n      '<div>' + this.directionString + ': ' + dir + '</div>',\n      '<div>' + this.dateTimeString + ': ' + dh + '</div>',\n      '<div>' + this.placaString + ': ' + veiculo.placa + '</div>',\n      '<div>' + this.speedString + ': ' + velocidade + '</div>',\n      '<div>Latitude: ' + veiculo.latitude.toFixed(5) + '</div>',\n      '<div>Longitude: ' + veiculo.longitude.toFixed(5) + '</div>',\n      '<div>' + this.locationString + ': ' + location + '</div>',\n    ].join(\"\");\n    htmlInfoWindow.setContent(frame, {\n      width: \"250px\",\n      height: \"150px\"\n    });\n    return htmlInfoWindow;\n  }\n\n\n  getWindowsInfoInpe(pontoSeta: any): HtmlInfoWindow {\n    const location = pontoSeta.posicao;\n    const dh = this.datePipe.transform(pontoSeta.dh, 'dd/MM/yyyy HH:mm:ss');\n    let htmlInfoWindow = new HtmlInfoWindow();\n    let frame: HTMLElement = document.createElement('div');\n    frame.innerHTML = [\n      '<div>' + this.dateTimeString + ': ' + dh + '</div>',\n      '<div>Latitude: ' + pontoSeta.latitude.toFixed(5) + '</div>',\n      '<div>Longitude: ' + pontoSeta.longitude.toFixed(5) + '</div>',\n      '<div>' + location + '</div>',\n    ].join(\"\");\n    htmlInfoWindow.setContent(frame, {\n      width: \"230px\",\n      height: \"130px\"\n    });\n    return htmlInfoWindow;\n  }\n\n  abrirStreetView() {\n\n\n    if (this.veiculoService.getSelectVeiculo != null){\n\n\n      this.navCtrl.push(\"StreetViewPage\", {\n        target: {lat: this.veiculoService.getSelectVeiculo.latitude, lng: this.veiculoService.getSelectVeiculo.longitude}\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mapa/mapa.ts"],"sourceRoot":""}