{"version":3,"sources":["../../src/pages/veiculo-menu/veiculo-menu.module.ts","../../src/pages/veiculo-menu/veiculo-menu.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VeiculoMenuPage } from './veiculo-menu';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    VeiculoMenuPage,\n  ],\n  imports: [\n\n    IonicPageModule.forChild(VeiculoMenuPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    VeiculoMenuPage\n  ]\n})\nexport class VeiculoMenuPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/veiculo-menu/veiculo-menu.module.ts","import { User } from './../../providers/user/user';\nimport { DataStore } from './../../models/data-store';\nimport { TranslateService } from \"@ngx-translate/core\";\n\nimport {\n  CadpontoPage,\n  InfoAdicionalPage,\n  MacroPage,\n  SensorPage,\n  RastroPage,\n  MensagemPage,\n  ComandoPage,\n  Tab3Root,\n  Tab1Root,\n  InfoVeiculoPage,\n  RastroSearchPage,\n  InspectionGridPage\n} from \"./../index\";\nimport { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  LoadingController\n} from \"ionic-angular\";\nimport { VeiculoService } from \"../../providers/api/veiculo.service\";\n\n@IonicPage()\n@Component({\n  selector: \"page-veiculo-menu\",\n  templateUrl: \"veiculo-menu.html\"\n})\nexport class VeiculoMenuPage {\n  veiculo: DataStore;\n  page: any;\n  waitString: string;\n  isInspection = false;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public veiculoService: VeiculoService,\n    public translateService: TranslateService,\n    public loadingCtrl: LoadingController,\n    public user: User\n  ) {\n    const funcao:String = this.user._user.perfil.funcao;\n    if(funcao.indexOf('mobileinspection')>=0){\n      this.isInspection = true;\n    }\n    this.veiculo = this.navParams.get(\"veiculo\");\n\n    this.translateService.get([\"WAIT\"]).subscribe(values => {\n      this.waitString = values[\"WAIT\"];\n    });\n  }\n\n  mapa() {\n    this.veiculoService.setSelectVeiculo = this.veiculoService.marcadores.get(this.veiculo.veiculoId).veiculo;\n    this.veiculo = this.veiculoService.marcadores.get(this.veiculo.veiculoId).veiculo;\n    if (this.veiculoService.mapa != null) {\n      setTimeout(() => {\n\n        let optionsvei = {\n          target: { lat: this.veiculo.latitude, lng: this.veiculo.longitude },\n          zoom: 14,\n          duration: 1000\n        };\n        this.veiculoService.mapa.animateCamera(optionsvei);\n        if(this.veiculoService.mapa != null){\n          this.veiculoService.marcadores.get(this.veiculo.veiculoId).marker.showInfoWindow();\n        }\n      }, 1000);\n    }\n    this.veiculoService.tabRef.select(2);\n  }\n\n  rastro() {\n\n\n    this.navCtrl.push(RastroSearchPage, {\n      veiculo: this.veiculo\n    });\n  }\n\n  sensor() {\n    let loading = this.loadingCtrl.create({\n      content: this.waitString\n    });\n    loading.present();\n    this.veiculoService\n      .getStatusVeiculo(this.veiculo.veiculoId)\n      .subscribe(\n        (res: any) => {\n          this.page = this.veiculoService.tabRef\n            .getByIndex(0)\n            .push(SensorPage, {\n              veiculo: this.veiculo,\n              sensores: res\n            });\n        },\n        error => {\n          loading.dismiss();\n        },\n        () => {\n          loading.dismiss();\n        }\n      );\n  }\n\n  mensage() {\n    let loading = this.loadingCtrl.create({\n      content: this.waitString\n    });\n    loading.present();\n    this.veiculoService\n      .getMensagem(this.veiculo.veiculoId)\n      .subscribe(\n        (res: any) => {\n          this.page = this.veiculoService.tabRef\n            .getByIndex(0)\n            .push(MensagemPage, {\n              veiculo: this.veiculo,\n              mensagens: res.mensagens\n            });\n        },\n        (error: any) => {\n          loading.dismiss();\n        },\n        () => {\n          loading.dismiss();\n        }\n      );\n  }\n\n  macro() {\n    let loading = this.loadingCtrl.create({\n      content: this.waitString\n    });\n    loading.present();\n    this.veiculoService\n      .getMacrosVeiculo(this.veiculo.veiculoId)\n      .subscribe(\n        (res: any) => {\n          this.page = this.veiculoService.tabRef.getByIndex(0).push(MacroPage, {\n            veiculo: this.veiculo,\n            macros: res\n          });\n        },\n        (error: any) => {\n          loading.dismiss();\n        },\n        () => {\n          loading.dismiss();\n        }\n      );\n  }\n\n  infoVeiculo() {\n    let loading = this.loadingCtrl.create({\n      content: this.waitString\n    });\n    loading.present();\n    this.veiculoService\n      .getInfoVeiculo(this.veiculo.veiculoId)\n      .subscribe(\n        (res: any) => {\n          this.page = this.veiculoService.tabRef\n            .getByIndex(0)\n            .push(InfoVeiculoPage, {\n              veiculo: this.veiculo,\n              infoVeiculo: res\n            });\n        },\n        (error: any) => {\n          loading.dismiss();\n        },\n        () => {\n          loading.dismiss();\n        }\n      );\n  }\n\n  infoAdicional() {\n    let loading = this.loadingCtrl.create({\n      content: this.waitString\n    });\n    loading.present();\n    this.veiculoService\n      .getInfoAdicional(this.veiculo.veiculoId)\n      .subscribe(\n        (res: any) => {\n          this.page = this.veiculoService.tabRef\n            .getByIndex(0)\n            .push(InfoAdicionalPage, {\n              veiculo: this.veiculo,\n              infoAdd: res\n            });\n        },\n        (error: any) => {\n          loading.dismiss();\n        },\n        () => {\n          loading.dismiss();\n        }\n      );\n  }\n\n  cadPonto() {\n    this.veiculo = this.veiculoService.marcadores.get(this.veiculo.veiculoId).veiculo;\n    this.veiculoService.tabRef.getByIndex(0).push(CadpontoPage, {\n      veiculo: this.veiculo\n    });\n  }\n\n  comando() {\n\n\n\n    let loading = this.loadingCtrl.create({\n      content: this.waitString\n    });\n    loading.present();\n    this.veiculoService\n      .getInfoAdicional(this.veiculo.veiculoId)\n      .subscribe(\n        (res: any) => {\n            this.veiculoService.tabRef.getByIndex(0)\n            .push(ComandoPage, {\n              veiculo: this.veiculo,\n              cmdConfig: res.cmdConfig\n            });\n        },\n        (error: any) => {\n          loading.dismiss();\n        },\n        () => {\n          loading.dismiss();\n        }\n      );\n  }\n\n\n  getInspections() {\n\n    let loading = this.loadingCtrl.create({\n      content: this.waitString\n    });\n    loading.present();\n    this.veiculoService\n      .getInspectionVeiculo(this.veiculo.veiculoId)\n      .subscribe(\n        (res: any) => {\n          this.veiculoService.tabRef\n          .getByIndex(0).push(InspectionGridPage, {\n            veiculo: this.veiculo,\n            inspecoes: res\n          });\n        },\n        (error: any) => {\n          loading.dismiss();\n        },\n        () => {\n          loading.dismiss();\n        }\n      );\n  }\n\n  abrirStreetView() {\n\n\n    if (this.veiculo != null){\n\n\n      this.navCtrl.push(\"StreetViewPage\", {\n        target: {lat: this.veiculo.latitude, lng: this.veiculo.longitude}\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/veiculo-menu/veiculo-menu.ts"],"sourceRoot":""}