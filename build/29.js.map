{"version":3,"sources":["../../src/pages/comando/comando.module.ts","../../src/pages/comando/comando.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ComandoPage } from './comando';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    ComandoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ComandoPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class ComandoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/comando/comando.module.ts","import { DataStore } from './../../models/data-store';\nimport { TranslateService } from '@ngx-translate/core';\nimport { VeiculoService } from './../../providers/api/veiculo.service';\nimport { User } from './../../providers/user/user';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController, AlertController } from 'ionic-angular';\n\n\n/**\n * Generated class for the ComandoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-comando',\n  templateUrl: 'comando.html',\n})\nexport class ComandoPage {\n  veieculo:DataStore;\n  cmdConfig:String;\n  perfilComando: String[];\n  btnCmd = '';\n\n  public faileCmdString:string;\n  public successCmdString:string;\n  public confirmationCmdString:string;\n  public yesSureString:string;\n  public cencelBtnString:string;\n  public waitString:string;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n      public user: User,\n      public loadingCtrl: LoadingController,\n      public veiculoService: VeiculoService,\n      public toastCtrl: ToastController,\n    public translateService: TranslateService,\n    public alertCtrl: AlertController\n    ) {\n      this.translateService.get([\"WAIT\",\"FAILE_CMD\", \"SUCCESS_CMD\", \"CONFIRMATION_CMD\", \"YES_SURE\", \"CANCEL_BUTTON\"]).subscribe(values => {\n        this.waitString = values[\"WAIT\"];\n        this.faileCmdString = values[\"FAILE_CMD\"];\n        this.successCmdString = values[\"SUCCESS_CMD\"];\n        this.confirmationCmdString = values[\"CONFIRMATION_CMD\"];\n        this.yesSureString = values[\"YES_SURE\"];\n        this.cencelBtnString = values[\"CANCEL_BUTTON\"];\n      });\n\n      \n\n    this.veieculo = this.navParams.get('veiculo');\n    this.cmdConfig = this.navParams.get('cmdConfig');\n    this.perfilComando = (<String>this.user._user.perfil.comandos).split('|');\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ComandoPage');\n  }\n\n\n  enviarComando(tipo:string) {\n    let alert = this.alertCtrl.create({\n      title: this.confirmationCmdString,\n      buttons: [\n        {\n          text: this.cencelBtnString,\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: this.yesSureString,\n          handler: () => {\n            this.enviar(tipo);\n          }\n        }\n      ]\n    });\n    alert.present();\n\n  }\n\n  enviar(tipo:string, transmissao?: string){\n    const comando = {\n      usuarioId: this.user._user.usrId,\n      veiculoId: this.veieculo.veiculoId,\n      comando: tipo,\n      transmissao: 'ANY'\n    }\n    let loading = this.loadingCtrl.create({\n      content: this.waitString\n    });\n    loading.present();\n    this.veiculoService.enviarComando(comando).subscribe((res:any) => {\n      if (res.tipo == 'sucesso'){\n        let toast = this.toastCtrl.create({\n          message: this.successCmdString,\n          duration: 3000,\n          position: 'top'\n        });\n        toast.present();\n      }else {\n        let toast = this.toastCtrl.create({\n          message: this.faileCmdString,\n          duration: 3000,\n          position: 'top'\n        });\n        toast.present();\n\n      }\n    }, error => {\n      let toast = this.toastCtrl.create({\n        message: this.veiculoService.failureString,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n      loading.dismiss();\n\n    }, () => {\n      \n      loading.dismiss();\n    });\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/comando/comando.ts"],"sourceRoot":""}