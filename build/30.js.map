{"version":3,"sources":["../../src/pages/cadponto/cadponto.module.ts","../../src/pages/cadponto/cadponto.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { TranslateModule } from '@ngx-translate/core';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CadpontoPage } from './cadponto';\n\n@NgModule({\n  declarations: [\n    CadpontoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CadpontoPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class CadpontoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cadponto/cadponto.module.ts","import { DataStore } from './../../models/data-store';\nimport { VeiculoService } from \"./../../providers/api/veiculo.service\";\nimport { MyApp } from \"./../../app/app.component\";\nimport { User } from \"./../../providers/user/user\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { FormBuilder, FormControl, FormGroup } from \"@angular/forms\";\nimport { Component, OnInit } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ModalController,\n  LoadingController,\n  ToastController\n} from \"ionic-angular\";\n\n@IonicPage()\n@Component({\n  selector: \"page-cadponto\",\n  templateUrl: \"cadponto.html\"\n})\nexport class CadpontoPage implements OnInit {\n  form: FormGroup;\n  veiculo: DataStore;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public formBuilder: FormBuilder,\n    public modalCtrl: ModalController,\n    public translateService: TranslateService,\n    public toastCtrl: ToastController,\n    public user: User,\n    public app: MyApp,\n    public loadingCtrl: LoadingController,\n    public veiculoService: VeiculoService\n  ) {}\n\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      tptId: new FormControl({ value: \"\", disabled: false }),\n      descricao: new FormControl({ value: \"\", disabled: false }),\n      codigo: new FormControl({ value: \"\", disabled: false })\n    });\n    this.veiculo = this.navParams.get(\"veiculo\");\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad CadpontoPage\");\n  }\n\n  onSubmit() {\n    const vei = this.veiculoService.veiculos.find(\n      (element: DataStore, index: number) => {\n        if (element.veiculoId === this.veiculo.veiculoId) {\n          return true;\n        }\n        return false;\n      }\n    );\n    if (vei !== undefined) {\n      let loading = this.loadingCtrl.create({\n        content: this.veiculoService.waitString\n      });\n      loading.present();\n      const ponto = this.form.value;\n      ponto.latitude = vei.latitude;\n      ponto.longitude = vei.longitude;\n      ponto.clienteId = this.user._user.clienteId;\n      this.veiculoService.salvarPonto(ponto).subscribe((res:any) => {\n        if(res.tipo == 'sucesso'){\n          let toast = this.toastCtrl.create({\n            message: this.veiculoService.savesuccessString,\n            duration: 3000,\n            position: 'top'\n          });\n          toast.present();\n          this.navCtrl.pop();\n        }else {\n          let toast = this.toastCtrl.create({\n            message: this.veiculoService.failureString,\n            duration: 3000,\n            position: 'top'\n          });\n          toast.present();\n        }\n      },error => {\n        let toast = this.toastCtrl.create({\n          message: this.veiculoService.failureString,\n          duration: 3000,\n          position: 'top'\n        });\n        toast.present();\n        loading.dismiss();\n      }, () => {\n        loading.dismiss();\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cadponto/cadponto.ts"],"sourceRoot":""}